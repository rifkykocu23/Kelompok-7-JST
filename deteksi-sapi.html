<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Qurbaan - Deteksi Hewan Qurban Anda</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@700&family=Open+Sans:wght@400;500;600&display=swap" rel="stylesheet">   

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

    <style>
        .question {
          display: none;
        }

        #questionImage {
          display: block;
          margin: 20px auto; /* Margin atas dan bawah 20px, kiri dan kanan otomatis */
        }
      </style>
</head>

<body>
    <!-- Spinner Start -->
    <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;"></div>
    </div>
    <!-- Spinner End -->

    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg bg-white navbar-light sticky-top px-4 px-lg-5">
      <a href="index.html" class="navbar-brand d-flex align-items-center">
          <h1 class="m-0">Qurbaan</h1>
      </a>
      <button type="button" class="navbar-toggler me-0" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
          <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
          <div class="navbar-nav ms-auto p-4 p-lg-0">
              <a href="index.html" class="nav-item nav-link">Beranda</a>
              <a href="index.html#breeding" class="nav-item nav-link">Breeding</a>
              <a href="index.html#fakta" class="nav-item nav-link">Fakta</a>
              <div class="nav-item dropdown">
                  <a href="product.html" class="nav-link dropdown-toggle active" data-bs-toggle="dropdown">Deteksi</a>
                  <div class="dropdown-menu bg-light m-0">
                      <a href="deteksi-sapi.html" class="dropdown-item active">Sapi</a>
                      <a href="deteksi-kambing.html" class="dropdown-item">Kambing</a>
                  </div>
              </div>
              <a href="index.html#tim-kami" class="nav-item nav-link">Tim Kami</a>
          </div>
          <!-- <div class="border-start ps-4 d-none d-lg-block">
              <button type="button" class="btn btn-sm p-0"><i class="fa fa-search"></i></button>
          </div> -->
      </div>
  </nav>
    <!-- Navbar End -->


    <!-- Page Header Start -->
    <div class="container-fluid page-header py-5 mb-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container text-center py-5">
            <h1 class="display-3 text-white mb-4 animated slideInDown">Pertanyaan Mendeteksi Kelayakan Sapi Qurban</h1>
        </div>
    </div>
    <!-- Page Header End -->

    <!-- Sesi Pertanyaan Start -->
  <div class="container">
    <div class="row">
      <div class="col-md-8 offset-md-2">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-center" id="question"></h5>
            <img  id="questionImage" src="" alt="Gambar Pertanyaan" style="display: none; width: 350px; height: auto;">
            <div class="text-center" id="options"></div>
            <div class="text-center mt-3">
              <button class="btn btn-primary" onclick="previousQuestion()">Sebelumnya</button>
              <button class="btn btn-primary mx-2" onclick="nextQuestion()">Selanjutnya</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
    <!-- Sesi Pertanyaan End -->

    <!-- Sesi Pertanyaan Start -->
<div class="container mt-3" id="result" style="display: none;">
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Hasil:</h4>
          <p id="resultText"></p>
          <button class="btn btn-primary" onclick="resetQuiz()">Deteksi Ulang</button>
        </div>
      </div>
    </div>
  </div>
</div>
  <!-- Sesi Pertanyaan End -->

    <!-- Footer Start -->
    <div class="container-fluid bg-dark footer mt-5 py-5 wow fadeIn" data-wow-delay="0.1s">
      <div class="container py-5">
          <div class="row g-5">
              <div class="col-lg-3 col-md-6">
                  <h5 class="text-white mb-4">Kontak Kami</h5>
                  <p class="mb-2"><i class="fa fa-map-marker-alt me-3"></i>Jakarta</p>
                  <p class="mb-2"><i class="fa fa-phone-alt me-3"></i>+62 858-9031-3221</p>
                  <p class="mb-2"><i class="fa fa-envelope me-3"></i>chndrfebrihantoro01@gmail.com</p>
                  <!-- <div class="d-flex pt-3">
                      <a class="btn btn-square btn-secondary rounded-circle me-2" href=""><i class="fab fa-twitter"></i></a>
                      <a class="btn btn-square btn-secondary rounded-circle me-2" href=""><i class="fab fa-facebook-f"></i></a>
                      <a class="btn btn-square btn-secondary rounded-circle me-2" href=""><i class="fab fa-youtube"></i></a>
                      <a class="btn btn-square btn-secondary rounded-circle me-2" href=""><i class="fab fa-linkedin-in"></i></a>
                  </div> -->
              </div>
              <div class="col-lg-3 col-md-6">
                  <h5 class="text-white mb-4">Anggota Tim</h5>
                  <a class="btn btn-link">Chandra Febrihantoro</a>
                  <a class="btn btn-link">Anil Syah Rifqy</a>
                  <a class="btn btn-link">Muhammad Ilham Hasani</a>
              </div>
              <div class="col-lg-3 col-md-6">
                  <h5 class="text-white mb-4">Universitas Indraprasta PGRI</h5>
                  <p class="mb-1">Jl. Raya Tengah No.80, RT.6/RW.1, </p>
                  <p class="mb-1">Gedong, Kec. Ps. Rebo, Kota Jakarta Timur,</p>
                  <p class="mb-1">Daerah Khusus Ibukota Jakarta 13760</p>
              </div>
              <div class="col-lg-3 col-md-6">
                <div class="d-flex justify-content-center justify-content-lg-start">
                    <img src="img/unindra-logo.png" width="180px" alt="">
                </div>
            </div>
          </div>
      </div>
  </div>
  <!-- Footer End -->


  <!-- Copyright Start -->
  <div class="container-fluid bg-secondary text-body copyright py-4">
      <div class="container">
          <div class="row">
              <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                  &copy; <a class="fw-semi-bold" href="#">Qurbaan</a> 2024, All Right Reserved.
              </div>
          </div>
      </div>
  </div>
  <!-- Copyright End -->



    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square rounded-circle back-to-top"><i class="bi bi-arrow-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/parallax/parallax.min.js"></script>
    <script src="lib/lightbox/js/lightbox.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

<script>
  let questions = [
    {
        "question": "Apakah Anda memiliki sapi yang akan dikurbankan?",
        "options": ["Ya", "Tidak"],
        "reason": "Minimal harus berakal !, Orang berakal mana yang tidak memiliki sapi tapi mau berqurban sapi?!!.",
        "invalidAnswers": ["Tidak"]
    },
    {
        "question": "Apakah Sapi Anda diperoleh secara halal (sesuai syariat islam)?",
        "options": ["Ya, saya dapatkan secara halal", "Tidak"],
        "reason": [
            "Tidak sah berkurban dengan binatang hasil merampas, hewan curian, atau dimiliki dengan akad yang haram, atau dibeli dengan uang yang murni haram, seperti riba. Nabi shallallahu ‘alaihi wa sallam bersabda, “Sesungguhnya Allah itu Maha Baik, dan tidak menerima kecuali yang baik…” (HR. Muslim)",
            "Menurut Hadis dari Abu Hurairah: Rasulullah ﷺ bersabda, Allah adalah baik dan Dia tidak menerima kecuali yang baik. Dan Allah telah memerintahkan kepada orang-orang Mukmin seperti yang Dia perintahkan kepada para Rasul.",
            "Allah berfirman: 'Wahai Rasul-rasul, makanlah dari yang baik-baik (rezeki) dan kerjakanlah amal yang saleh. Sesungguhnya Aku Maha Mengetahui apa yang kamu kerjakan.' (QS. Al-Mu'minun: 51)",
        ],
        "invalidAnswers": ["Tidak"]
    },
    {
        "question": "Apakah sapi Anda telah berumur minimal dua tahun?",
        "options": ["Ya", "Tidak"],
        "reasons": [
            "Sapi Anda belum mencapai usia yang cukup. ويجزئ فيها الجذع من الضأن والثني من المعز والثني من الإبل والثني من البقر.",
            "Umur hewan kurban adalah Al-Jadza’u (Domba yang berumur 6 bulan-1 tahun), dan Al-Ma’iz (Kambing jawa yang berumur 1-2 tahun), dan Al-Ibil (Unta yang berumur 5-6 tahun), dan Al-Baqar (Sapi yang berumur 2-3 tahun).",
            "Maka tidak sah melaksanakan kurban dengan hewan yang belum memenuhi kriteria umur sebagaimana disebutkan, entah itu unta, sapi maupun kambing. Karena syari’at telah menentukan standar minimal umur dari masing-masing jenis hewan kurban yang dimaksud, jika belum sampai pada umur yang telah ditentukan maka tidak sah berkurban dengan hewan tersebut, jika telah sampai pada umur atau bahkan lebih maka tidaklah mengapa, asalkan tidak terlalu tua sehingga dagingnya kurang begitu empuk untuk dimakan."
        ],
        "invalidAnswers": ["Tidak"],
        "questionImage": "img/sapi/gigi-sapi.jpg"
    },
    {
        "question": "Apakah sapi Anda mengalami kebutaan atau gangguan pengelihatan?",
        "options": ["Ya", "Tidak"],
        "reason": "Dari Al Barra’ bin Azib radliallahu ‘anhu, sesungguhnya Nabi shallallahu ‘alaihi wa sallam bersabda sambil berisyarat dengan tangannya demikian (empat jari terbuka): “Ada empat cacat yang tidak boleh dalam hewan Kurban: buta sebelah matanya dan jelas butanya, sakit dan jelas sakitnya, pincang dan jelas pincangnya, dan sangat kurus sampai-sampai tidak punya sumsum tulang.” Al Barra’ mengatakan, “Apapun ciri binatang yang tidak kamu sukai maka tinggalkanlah dan jangan haramkan untuk orang lain. (HR. An-Nasa’i, Abu Daud dan dishahihkan Al-Albani)",
        "invalidAnswers": ["Ya"]
    },
    {
        "question": "Apakah pada telinga sapi Anda terdapat bagian yang hilang atau tidak utuh?",
        "options": ["Ya", "Tidak"],
        "reason": "Sapi yang lengkap dan sehat anggota badannya lebih disukai untuk qurban. ('Hewan yang cacat tidak layak untuk dijadikan qurban' - HR. Abu Dawud)",
        "invalidAnswers": ["Ya"]
    },
    {
        "question": "Apakah sapi Anda dapat berjalan dengan baik dan tidak pincang?",
        "options": ["Ya", "Tidak"],
        "reason": "Dari Al Barra’ bin Azib radliallahu ‘anhu, sesungguhnya Nabi shallallahu ‘alaihi wa sallam bersabda sambil berisyarat dengan tangannya demikian (empat jari terbuka): “Ada empat cacat yang tidak boleh dalam hewan Kurban: buta sebelah matanya dan jelas butanya, sakit dan jelas sakitnya, pincang dan jelas pincangnya, dan sangat kurus sampai-sampai tidak punya sumsum tulang.” Al Barra’ mengatakan, “Apapun ciri binatang yang tidak kamu sukai maka tinggalkanlah dan jangan haramkan untuk orang lain. (HR. An-Nasa’i, Abu Daud dan dishahihkan Al-Albani)",
        "invalidAnswers": ["Tidak"]
    },
    {
        "question": "Apakah sapi Anda memiliki tanduk yang utuh?",
        "options": ["Ya", "Tidak", "Tanduknya patah"],
        "reason": "Sapi dengan tanduk yang utuh lebih disukai untuk qurban. ('Hewan yang tanduknya patah tidak layak untuk dijadikan qurban' - HR. Abu Dawud)",
        "invalidAnswers": ["Tidak", "Tanduknya patah"]
    },
    {
        "question": "Apakah sapi Anda sedang menderita penyakit, seperti pada gambar?",
        "options": ["Ya", "Tidak"],
        "reason": "Dari Al Barra’ bin Azib radliallahu ‘anhu, sesungguhnya Nabi shallallahu ‘alaihi wa sallam bersabda sambil berisyarat dengan tangannya demikian (empat jari terbuka): “Ada empat cacat yang tidak boleh dalam hewan Kurban: buta sebelah matanya dan jelas butanya, sakit dan jelas sakitnya, pincang dan jelas pincangnya, dan sangat kurus sampai-sampai tidak punya sumsum tulang.” Al Barra’ mengatakan, “Apapun ciri binatang yang tidak kamu sukai maka tinggalkanlah dan jangan haramkan untuk orang lain. (HR. An-Nasa’i, Abu Daud dan dishahihkan Al-Albani)",
        "invalidAnswers": ["Ya"],
        "questionImage": "img/sapi/penyakit-sapi.png"
    },
    {
        "question": "Apakah pada ekor sapi Anda terdapat bagian yang hilang atau tidak utuh?",
        "options": ["Ya", "Tidak"],
        "reason": "Sapi yang tidak memiliki ekor yang lengkap tidak memenuhi syarat sebagai hewan qurban. ('Hewan yang cacat tidak boleh dijadikan hewan qurban' - HR. Muslim)",
        "invalidAnswers": ["Ya"]
    },
    {
        "question": "Apakah kondisi tubuh sapi Anda sehat dan tidak kurus?",
        "options": ["Ya", "Tidak"],
        "reason": "Dari Al Barra’ bin Azib radliallahu ‘anhu, sesungguhnya Nabi shallallahu ‘alaihi wa sallam bersabda sambil berisyarat dengan tangannya demikian (empat jari terbuka): “Ada empat cacat yang tidak boleh dalam hewan Kurban: buta sebelah matanya dan jelas butanya, sakit dan jelas sakitnya, pincang dan jelas pincangnya, dan sangat kurus sampai-sampai tidak punya sumsum tulang.” Al Barra’ mengatakan, “Apapun ciri binatang yang tidak kamu sukai maka tinggalkanlah dan jangan haramkan untuk orang lain. (HR. An-Nasa’i, Abu Daud dan dishahihkan Al-Albani)",
        "invalidAnswers": ["Tidak"]
    },
    {
        "question": "Apakah sapi Anda sedang hamil atau menyusui?",
        "options": ["Ya", "Tidak"],
        "reason": "Dari Abu Hurairah ra., ia berkata: Rasulullah SAW bersabda: “Janganlah kamu menyembelih apa yang ada dalam kandungannya.” (HR. Abu Dawud)",
        "invalidAnswers": ["Ya"]
    }
  ];

  let currentQuestion = 0;

  let userAnswers = [];

  function showQuestion() {
      let questionElement = document.getElementById('question');
      let optionsElement = document.getElementById('options');
      let imageElement = document.getElementById('questionImage'); // Pastikan Anda memiliki elemen dengan id ini di HTML Anda

      questionElement.textContent = questions[currentQuestion].question;
      optionsElement.innerHTML = '';

      // Jika ada gambar untuk pertanyaan ini, tampilkan gambar tersebut
      if (questions[currentQuestion].questionImage) {
          imageElement.src = questions[currentQuestion].questionImage;
          imageElement.style.display = 'block';
      } else {
          imageElement.style.display = 'none';
      }

      for (let i = 0; i < questions[currentQuestion].options.length; i++) {
          let optionElement = document.createElement('div');
          optionElement.className = 'form-check form-check-inline';

          let inputElement = document.createElement('input');
          inputElement.className = 'form-check-input';
          inputElement.type = 'radio';
          inputElement.name = 'option';
          inputElement.id = 'option' + i;
          inputElement.value = questions[currentQuestion].options[i];

          // Jika pengguna telah menjawab pertanyaan ini, muat kembali jawabannya
          if (userAnswers[currentQuestion] === inputElement.value) {
              inputElement.checked = true;
          }

          let labelElement = document.createElement('label');
          labelElement.className = 'form-check-label';
          labelElement.htmlFor = 'option' + i;
          labelElement.textContent = questions[currentQuestion].options[i];

          optionElement.appendChild(inputElement);
          optionElement.appendChild(labelElement);
          optionsElement.appendChild(optionElement);
      }
  }

  function nextQuestion() {
      // Cek apakah pengguna telah memilih jawaban
      let selectedOption = document.querySelector(`input[name="option"]:checked`);
      
      if (!selectedOption) {
          // Hapus pesan peringatan sebelumnya jika ada
          let previousAlert = document.getElementById('alert');
          if (previousAlert) {
              previousAlert.parentNode.removeChild(previousAlert);
          }

          // Tampilkan pesan peringatan dengan Bootstrap
          let alertElement = document.createElement('div');
          alertElement.id = 'alert';
          alertElement.className = 'alert alert-warning';
          alertElement.textContent = "Silakan pilih jawaban sebelum melanjutkan.";
          
          let containerElement = document.getElementById('question');
          containerElement.parentNode.insertBefore(alertElement, containerElement.nextSibling);

          // Hapus pesan peringatan setelah beberapa detik
          setTimeout(() => {
              alertElement.parentNode.removeChild(alertElement);
          }, 3000);

          return;
      }

      // Simpan jawaban pengguna
      userAnswers[currentQuestion] = selectedOption.value;

      if (currentQuestion < questions.length - 1) {
          currentQuestion++;
          showQuestion();
      } else {
          checkAnswers();
          document.getElementById('result').style.display = 'block';
      }
  }

  function previousQuestion() {
      if (currentQuestion > 0) {
          currentQuestion--;
          showQuestion();
      }
  }

  function checkAnswers() {
      let valid = true;
      let invalidReasons = [];

      // Periksa setiap jawaban
      for (let i = 0; i < userAnswers.length; i++) {
          if (questions[i].invalidAnswers.includes(userAnswers[i])) {
              valid = false;
              invalidReasons.push(questions[i].reason);
          }
      }

      // Jika semua jawaban valid, tampilkan pesan bahwa sapi sah untuk dikurbankan
      if (valid) {
          document.getElementById('resultText').textContent = "Sapi Anda sah untuk dikurbankan.";
      } else {
          // Jika ada jawaban yang tidak valid, tampilkan alasan mengapa sapi tidak sah untuk dikurbankan
          let resultText = "Sapi Anda tidak sah untuk dikurbankan karena alasan berikut:";
          let reasonsList = document.createElement('ul');
          invalidReasons.forEach(reason => {
              if (Array.isArray(reason)) {
                  reason.forEach(subReason => {
                      let listItem = document.createElement('li');
                      listItem.textContent = subReason;
                      reasonsList.appendChild(listItem);
                  });
              } else {
                  let listItem = document.createElement('li');
                  listItem.textContent = reason;
                  reasonsList.appendChild(listItem);
              }
          });
          let resultElement = document.getElementById('resultText');
          resultElement.innerHTML = resultText;
          resultElement.appendChild(reasonsList);
      }
  }

  function resetAnswers() {
    // Reset semua jawaban yang sudah dipilih menjadi tidak dipilih
    userAnswers = [];
}

function resetQuiz() {
    // Atur ulang pertanyaan saat ini ke pertanyaan pertama
    currentQuestion = 0;

    // Atur ulang semua pilihan jawaban menjadi tidak dipilih
    resetAnswers();

    // Sembunyikan elemen hasil dan tampilkan pertanyaan pertama
    document.getElementById('result').style.display = 'none';
    showQuestion();
}

  showQuestion();

</script>
</body>

</html>